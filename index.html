<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HighFive: HighFive - HDF5 header-only C++ Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">HighFive<span id="projectnumber">&#160;2.10.1</span>
   </div>
   <div id="projectbrief">HighFive - Header-only C++ HDF5 interface</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('index.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title"><a class="el" href="namespace_high_five.html">HighFive</a> - HDF5 header-only C++ Library </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__2home_2runner_2work_2_high_five_2_high_five_2_r_e_a_d_m_e"></a> <a href="https://BlueBrain.github.io/HighFive/actions/workflows/gh-pages.yml?query=branch%3Amaster"><img src="https://github.com/BlueBrain/HighFive/workflows/gh-pages/badge.svg?branch=master" alt="Doxygen -> gh-pages" style="pointer-events: none;" class="inline"/></a> <a href="https://codecov.io/gh/BlueBrain/HighFive"><img src="https://codecov.io/gh/BlueBrain/HighFive/branch/master/graph/badge.svg?token=UBKxHEn7RS" alt="codecov" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/BlueBrain/HighFive-testing/actions/workflows/integration.yml"><img src="https://github.com/BlueBrain/HighFive-testing/actions/workflows/integration.yml/badge.svg" alt="HighFive_Integration_tests" style="pointer-events: none;" class="inline"/></a></p>
<p>Documentation: <a href="https://bluebrain.github.io/HighFive/">https://bluebrain.github.io/HighFive/</a></p>
<h1>Brief</h1>
<p><a class="el" href="namespace_high_five.html">HighFive</a> is a modern header-only C++11 friendly interface for libhdf5.</p>
<p><a class="el" href="namespace_high_five.html">HighFive</a> supports STL vector/string, Boost::UBLAS, Boost::Multi-array and Xtensor. It handles C++ from/to HDF5 with automatic type mapping. <a class="el" href="namespace_high_five.html">HighFive</a> does not require additional libraries (see dependencies).</p>
<p>It integrates nicely with other CMake projects by defining (and exporting) a <a class="el" href="namespace_high_five.html">HighFive</a> target.</p>
<h2>Design</h2>
<ul>
<li>Simple C++-ish minimalist interface</li>
<li>No other dependency than libhdf5</li>
<li>Zero overhead</li>
<li>Support C++11</li>
</ul>
<h2>Feature support</h2>
<ul>
<li>create/read/write files, datasets, attributes, groups, dataspaces.</li>
<li>automatic memory management / ref counting</li>
<li>automatic conversion of <code>std::vector</code> and nested <code>std::vector</code> from/to any dataset with basic types</li>
<li>automatic conversion of <code>std::string</code> to/from variable length string dataset</li>
<li>selection() / slice support</li>
<li>parallel Read/Write operations from several nodes with Parallel HDF5</li>
<li>Advanced types: Compound, Enum, Arrays of Fixed-length strings, References</li>
<li>half-precision (16-bit) floating-point datasets</li>
<li><code>std::byte</code> in C++17 mode (with <code>-DCMAKE_CXX_STANDARD=17</code> or higher)</li>
<li>etc... (see <a class="el" href="md__2home_2runner_2work_2_high_five_2_high_five_2_c_h_a_n_g_e_l_o_g.html">ChangeLog</a>)</li>
</ul>
<h2>Dependencies</h2>
<ul>
<li>hdf5 (dev)</li>
<li>hdf5-mpi (optional, opt-in with -D*HIGHFIVE_PARALLEL_HDF5*=ON)</li>
<li>boost &gt;= 1.41 (recommended, opt-out with -D*HIGHFIVE_USE_BOOST*=OFF)</li>
<li>eigen3 (optional, opt-in with -D*HIGHFIVE_USE_EIGEN*=ON)</li>
<li>xtensor (optional, opt-in with -D*HIGHFIVE_USE_XTENSOR*=ON)</li>
<li>half (optional, opt-in with -D*HIGHFIVE_USE_HALF_FLOAT*=ON)</li>
</ul>
<h2>Known flaws</h2>
<ul>
<li><a class="el" href="namespace_high_five.html">HighFive</a> is not thread-safe. At best it has the same limitations as the HDF5 library. However, <a class="el" href="namespace_high_five.html">HighFive</a> objects modify their members without protecting these writes. Users have reported that <a class="el" href="namespace_high_five.html">HighFive</a> is not thread-safe even when using the threadsafe HDF5 library, e.g., <a href="https://github.com/BlueBrain/HighFive/discussions/675">https://github.com/BlueBrain/HighFive/discussions/675</a>.</li>
<li>Eigen support in core <a class="el" href="namespace_high_five.html">HighFive</a> is broken. See <a href="https://github.com/BlueBrain/HighFive/issues/532">https://github.com/BlueBrain/HighFive/issues/532</a>. <a class="el" href="namespace_h5_easy.html">H5Easy</a> is not affected.</li>
<li>The support of fixed length strings isn't ideal.</li>
</ul>
<h1>Examples</h1>
<h3>Write a std::vector&lt;int&gt; to 1D HDF5 dataset and read it back</h3>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="highfive_8hpp.html">highfive/highfive.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespace_high_five.html">HighFive</a>;</div>
<div class="line"> </div>
<div class="line">std::string filename = <span class="stringliteral">&quot;/tmp/new_file.h5&quot;</span>;</div>
<div class="line"> </div>
<div class="line">{</div>
<div class="line">    <span class="comment">// We create an empty HDF55 file, by truncating an existing</span></div>
<div class="line">    <span class="comment">// file if required:</span></div>
<div class="line">    <a class="code hl_class" href="class_high_five_1_1_file.html">File</a> file(filename, File::Truncate);</div>
<div class="line"> </div>
<div class="line">    std::vector&lt;int&gt; data(50, 1);</div>
<div class="line">    file.createDataSet(<span class="stringliteral">&quot;grp/data&quot;</span>, data);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">{</div>
<div class="line">    <span class="comment">// We open the file as read-only:</span></div>
<div class="line">    <a class="code hl_class" href="class_high_five_1_1_file.html">File</a> file(filename, File::ReadOnly);</div>
<div class="line">    <span class="keyword">auto</span> dataset = file.getDataSet(<span class="stringliteral">&quot;grp/data&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Read back, with allocating:</span></div>
<div class="line">    <span class="keyword">auto</span> data = dataset.read&lt;std::vector&lt;int&gt;&gt;();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Because `data` has the correct size, this will</span></div>
<div class="line">    <span class="comment">// not cause `data` to be reallocated:</span></div>
<div class="line">    dataset.read(data);</div>
<div class="line">}</div>
<div class="ttc" id="aclass_high_five_1_1_file_html"><div class="ttname"><a href="class_high_five_1_1_file.html">HighFive::File</a></div><div class="ttdoc">File class.</div><div class="ttdef"><b>Definition</b> H5File.hpp:24</div></div>
<div class="ttc" id="ahighfive_8hpp_html"><div class="ttname"><a href="highfive_8hpp.html">highfive.hpp</a></div></div>
<div class="ttc" id="anamespace_high_five_html"><div class="ttname"><a href="namespace_high_five.html">HighFive</a></div><div class="ttdef"><b>Definition</b> H5_definitions.hpp:22</div></div>
</div><!-- fragment --><p><b>Note:</b> As of 2.8.0, one can use <code><a class="el" href="highfive_8hpp.html">highfive/highfive.hpp</a></code> to include everything <a class="el" href="namespace_high_five.html">HighFive</a>. Prior to 2.8.0 one would include <code><a class="el" href="_h5_file_8hpp.html">highfive/H5File.hpp</a></code>.</p>
<p><b>Note:</b> For advanced usecases the dataset can be created without immediately writing to it. This is common in MPI-IO related patterns, or when growing a dataset over the course of a simulation.</p>
<h3>Write a 2 dimensional C double float array to a 2D HDF5 dataset</h3>
<p>See <a href="https://github.com/BlueBrain/HighFive/blob/master/src/examples/create_dataset_double.cpp">create_dataset_double.cpp</a></p>
<h3>Write and read a matrix of double float (boost::ublas) to a 2D HDF5 dataset</h3>
<p>See <a href="https://github.com/BlueBrain/HighFive/blob/master/src/examples/boost_ublas_double.cpp">boost_ublas_double.cpp</a></p>
<h3>Write and read a subset of a 2D double dataset</h3>
<p>See <a href="https://github.com/BlueBrain/HighFive/blob/master/src/examples/select_partial_dataset_cpp11.cpp">select_partial_dataset_cpp11.cpp</a></p>
<h3>Create, write and list HDF5 attributes</h3>
<p>See <a href="https://github.com/BlueBrain/HighFive/blob/master/src/examples/create_attribute_string_integer.cpp">create_attribute_string_integer.cpp</a></p>
<h3>And others</h3>
<p>See <a href="https://github.com/BlueBrain/HighFive/blob/master/src/examples/">src/examples/</a> subdirectory for more info.</p>
<h2><a class="el" href="namespace_h5_easy.html">H5Easy</a></h2>
<p>For several 'standard' use cases the <a href="include/highfive/H5Easy.hpp">highfive/H5Easy.hpp</a> interface is available. It allows:</p>
<ul>
<li>Reading/writing in a single line of:<ul>
<li>scalars (to/from an extendible DataSet),</li>
<li>strings,</li>
<li>vectors (of standard types),</li>
<li><a href="http://eigen.tuxfamily.org">Eigen::Matrix</a> (optional, enable CMake option <code>HIGHFIVE_USE_EIGEN</code>),</li>
<li><a href="https://github.com/QuantStack/xtensor">xt::xarray</a> and <a href="https://github.com/QuantStack/xtensor">xt::xtensor</a> (optional, enable CMake option <code>HIGHFIVE_USE_XTENSOR</code>).</li>
<li><a href="https://docs.opencv.org/master/df/dfc/classcv_1_1Mat__.html">cv::Mat_</a> (optional, enable CMake option <code>HIGHFIVE_USE_OPENCV</code>).</li>
</ul>
</li>
<li>Getting in a single line:<ul>
<li>the size of a DataSet,</li>
<li>the shape of a DataSet.</li>
</ul>
</li>
</ul>
<h3>Example</h3>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_h5_easy_8hpp.html">highfive/H5Easy.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    H5Easy::File file(<span class="stringliteral">&quot;example.h5&quot;</span>, H5Easy::File::Overwrite);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">int</span> A = ...;</div>
<div class="line">    <a class="code hl_function" href="namespace_h5_easy.html#a7614d902c22b74a18fb29c42599a6785">H5Easy::dump</a>(file, <span class="stringliteral">&quot;/path/to/A&quot;</span>, A);</div>
<div class="line"> </div>
<div class="line">    A = <a class="code hl_function" href="namespace_h5_easy.html#a97ce3122b92fcf8322ed7e8c460c6862">H5Easy::load&lt;int&gt;</a>(file, <span class="stringliteral">&quot;/path/to/A&quot;</span>);</div>
<div class="line">}</div>
<div class="ttc" id="a_h5_easy_8hpp_html"><div class="ttname"><a href="_h5_easy_8hpp.html">H5Easy.hpp</a></div></div>
<div class="ttc" id="anamespace_h5_easy_html_a7614d902c22b74a18fb29c42599a6785"><div class="ttname"><a href="namespace_h5_easy.html#a7614d902c22b74a18fb29c42599a6785">H5Easy::dump</a></div><div class="ttdeci">DataSet dump(File &amp;file, const std::string &amp;path, const T &amp;data, const DumpOptions &amp;options)</div><div class="ttdef"><b>Definition</b> H5Easy_public.hpp:91</div></div>
<div class="ttc" id="anamespace_h5_easy_html_a97ce3122b92fcf8322ed7e8c460c6862"><div class="ttname"><a href="namespace_h5_easy.html#a97ce3122b92fcf8322ed7e8c460c6862">H5Easy::load</a></div><div class="ttdeci">T load(const File &amp;file, const std::string &amp;path, const std::vector&lt; size_t &gt; &amp;idx)</div><div class="ttdef"><b>Definition</b> H5Easy_public.hpp:138</div></div>
</div><!-- fragment --><p>whereby the <code>int</code> type of this example can be replaced by any of the above types. See <a href="src/examples/easy_load_dump.cpp">easy_load_dump.cpp</a> for more details.</p>
<p><b>Note:</b> Classes such as <code>H5Easy::File</code> are just short for the regular <code><a class="el" href="namespace_high_five.html">HighFive</a></code> classes (in this case <code><a class="el" href="class_high_five_1_1_file.html" title="File class.">HighFive::File</a></code>). They can thus be used interchangeably.</p>
<h1>CMake integration</h1>
<p>There's two common paths of integrating <a class="el" href="namespace_high_five.html">HighFive</a> into a CMake based project. The first is to "vendor" <a class="el" href="namespace_high_five.html">HighFive</a>, the second is to install <a class="el" href="namespace_high_five.html">HighFive</a> as a normal C++ library. Due to how <a class="el" href="namespace_high_five.html">HighFive</a> CMake code works, sometimes following the third Bailout Approach is needed.</p>
<h2>Vendoring <a class="el" href="namespace_high_five.html">HighFive</a></h2>
<p>In this approach the <a class="el" href="namespace_high_five.html">HighFive</a> sources are included in a subdirectory of the project (typically as a git submodule), for example in <code>third_party/HighFive</code>.</p>
<p>The projects <code>CMakeLists.txt</code> add the following lines </p><div class="fragment"><div class="line">add_executable(foo foo.cpp)</div>
<div class="line"> </div>
<div class="line"># You might want to turn off Boost support:</div>
<div class="line">if(NOT DEFINED HIGHFIVE_USE_BOOST)</div>
<div class="line">  set(HIGHFIVE_USE_BOOST Off)</div>
<div class="line">endif()</div>
<div class="line"> </div>
<div class="line"># Include the subdirectory and use the target HighFive.</div>
<div class="line">add_subdirectory(third_party/HighFive)</div>
<div class="line">target_link_libraries(foo HighFive)</div>
</div><!-- fragment --><p><b>Note:</b> <code>add_subdirectory(third_party/HighFive)</code> will search and "link" HDF5 and optional dependencies such as Boost.</p>
<h2>Regular Installation of <a class="el" href="namespace_high_five.html">HighFive</a></h2>
<p>Alternatively you can install <a class="el" href="namespace_high_five.html">HighFive</a> once and use it in several projects via <code>find_package()</code>. First one should clone the sources: </p><div class="fragment"><div class="line">git clone --recursive https://github.com/BlueBrain/HighFive.git HighFive-src</div>
</div><!-- fragment --><p> By default CMake will install systemwide, which is likely not appropriate. The instruction below allow users to select a custom path where <a class="el" href="namespace_high_five.html">HighFive</a> will be installed, e.g. <code>HIGHFIVE_INSTALL_PREFIX=${HOME}/third_party/HighFive</code> or some other location. The CMake invocations would be </p><div class="fragment"><div class="line">cmake -DHIGHFIVE_EXAMPLES=Off \</div>
<div class="line">      -DHIGHFIVE_USE_BOOST=Off \</div>
<div class="line">      -DHIGHFIVE_UNIT_TESTS=Off \</div>
<div class="line">      -DCMAKE_INSTALL_PREFIX=${HIGHFIVE_INSTALL_PREFIX} \</div>
<div class="line">      -B HighFive-src/build \</div>
<div class="line">      HighFive-src</div>
<div class="line"> </div>
<div class="line">cmake --build HighFive-src/build</div>
<div class="line">cmake --install HighFive-src/build</div>
</div><!-- fragment --><p> This will install (i.e. copy) the headers to <code>${HIGHFIVE_INSTALL_PREFIX}/include</code> and some CMake files into an appropriate subfolder of <code>${HIGHFIVE_INSTALL_PREFIX}</code>.</p>
<p>The projects <code>CMakeLists.txt</code> should add the following: </p><div class="fragment"><div class="line"># ...</div>
<div class="line">add_executable(foo foo.cpp)</div>
<div class="line"> </div>
<div class="line">find_package(HighFive REQUIRED)</div>
<div class="line">target_link_libraries(foo HighFive)</div>
</div><!-- fragment --><p><b>Note:</b> If <a class="el" href="namespace_high_five.html">HighFive</a> hasn't been installed in a default location, CMake needs to be told where to find it which can be done by adding <code>-DCMAKE_PREFIX_PATH=${HIGHFIVE_INSTALL_PREFIX}</code> to the CMake command for building the project using <a class="el" href="namespace_high_five.html">HighFive</a>. The variable <code>CMAKE_PREFIX_PATH</code> is a semi-colon <code>;</code> separated list of directories.</p>
<p><b>Note:</b> <code>find_package(HighFive)</code> will search and "link" HDF5 and optional dependencies such as Boost.</p>
<h2>The Bailout Approach</h2>
<p>Since both <code>add_subdirectory</code> and <code>find_package</code> will trigger finding HDF5 and other optional dependencies of <a class="el" href="namespace_high_five.html">HighFive</a> as well as the <code>target_link_libraries</code> code for "linking" with the dependencies, things can go wrong.</p>
<p>Fortunately, <a class="el" href="namespace_high_five.html">HighFive</a> is a header only library and all that's needed is the headers. Preferably, the version obtained by installing <a class="el" href="namespace_high_five.html">HighFive</a>, since those include <code><a class="el" href="_h5_version_8hpp.html">H5Version.hpp</a></code>. Let's assume they've been copied to <code>third_party/HighFive</code>. Then one could create a target:</p>
<div class="fragment"><div class="line">add_library(HighFive INTERFACE)</div>
<div class="line">target_include_directory(HighFive INTERFACE ${CMAKE_CURRENT_SOURCE_DIR}/third_party/HighFive/include)</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">add_executable(foo foo.cpp)</div>
<div class="line">target_link_libraries(foo HighFive)</div>
</div><!-- fragment --><p>One known case where this is required is when vendoring the optional dependencies of <a class="el" href="namespace_high_five.html">HighFive</a>.</p>
<h1>Questions?</h1>
<p>Do you have questions on how to use <a class="el" href="namespace_high_five.html">HighFive</a>? Would you like to share an interesting example or discuss <a class="el" href="namespace_high_five.html">HighFive</a> features? Head over to the <a href="https://github.com/BlueBrain/HighFive/discussions">Discussions</a> forum and join the community.</p>
<p>For bugs and issues please use <a href="https://github.com/BlueBrain/HighFive/issues">Issues</a>.</p>
<h1>Funding &amp; Acknowledgment</h1>
<p>The development of this software was supported by funding to the Blue Brain Project, a research center of the École polytechnique fédérale de Lausanne (EPFL), from the Swiss government's ETH Board of the Swiss Federal Institutes of Technology.</p>
<p>Copyright © 2015-2022 Blue Brain Project/EPFL</p>
<h3>License</h3>
<p>Boost Software License 1.0 </p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"/>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
